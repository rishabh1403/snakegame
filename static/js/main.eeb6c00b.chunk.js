(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,i){},16:function(e,t,i){"use strict";i.r(t);var n,r,o,c,a,u=i(0),s=i.n(u),h=i(4),f=i.n(h),d=(i(14),i(1)),l=i(2),y=i(6),v=i(5),g=i(7),w=function(){function e(){Object(d.a)(this,e)}return Object(l.a)(e,[{key:"init",value:function(e,t,i){this.width=t,this.height=i,this._grid=[];for(var n=0;n<t;n++){this._grid.push([]);for(var r=0;r<i;r++)this._grid[n].push(e)}}},{key:"set",value:function(e,t,i){this._grid[t][i]=e}},{key:"get",value:function(e,t){return this._grid[e][t]}}]),e}(),k=function(){function e(){Object(d.a)(this,e)}return Object(l.a)(e,[{key:"init",value:function(e,t,i){this.direction=e,this._queue=[],this.insert(t,i)}},{key:"insert",value:function(e,t){this._queue.unshift({x:e,y:t}),this.last=this._queue[0]}},{key:"remove",value:function(){return this._queue.pop()}}]),e}(),p=new w,b=new k,m=26,x=26,j=0,O=1,_=2,E=0,q=1,C=2,M=3,S=37,J=38,L=39,A=40;function B(){for(var e=[],t=0;t<p.width;t++)for(var i=0;i<p.height;i++)p.get(t,i)===j&&e.push({x:t,y:i});var n=e[Math.floor(Math.random()*e.length)];p.set(_,n.x,n.y)}function F(){a=0,p.init(j,x,m);var e={x:Math.floor(x/2),y:m-1};b.init(q,e.x,e.y),p.set(O,e.x,e.y),B()}function I(){!function(){c++,o[S]&&b.direction!==C&&(b.direction=E);o[J]&&b.direction!==M&&(b.direction=q);o[L]&&b.direction!==E&&(b.direction=C);o[A]&&b.direction!==q&&(b.direction=M);if(c%10===0){var e=b.last.x,t=b.last.y;switch(b.direction){case E:e--;break;case q:t--;break;case C:e++;break;case M:t++}if(0>e||e>p.width-1||0>t||t>p.height-1||p.get(e,t)===O)return F();var i=null;p.get(e,t)===_?(a++,i={x:e,y:t},B()):(i=b.remove(),p.set(j,i.x,i.y),i.x=e,i.y=t),p.set(O,i.x,i.y),b.insert(i.x,i.y)}}(),function(){for(var e=n.width/p.width,t=n.height/p.height,i=0;i<p.width;i++)for(var o=0;o<p.height;o++){switch(p.get(i,o)){case j:r.fillStyle="#fff";break;case O:r.fillStyle="#0ff";break;case _:r.fillStyle="#f00"}r.fillRect(i*e,o*t,e,t)}r.fillStyle="#000",r.fillText("score : "+a,10,n.height-10)}(),window.requestAnimationFrame(I,n)}var N=function(e){function t(){return Object(d.a)(this,t),Object(y.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){(n=document.createElement("canvas")).width=20*m,n.height=20*x,r=n.getContext("2d"),document.body.appendChild(n),c=0,o={},document.addEventListener("keydown",function(e){o[e.keyCode]=!0}),document.addEventListener("keyup",function(e){delete o[e.keyCode]}),F(),I()}},{key:"render",value:function(){return s.a.createElement("div",{className:"fix"})}}]),t}(u.Component);f.a.render(s.a.createElement(N,null),document.getElementById("root"))},8:function(e,t,i){e.exports=i(16)}},[[8,2,1]]]);
//# sourceMappingURL=main.eeb6c00b.chunk.js.map